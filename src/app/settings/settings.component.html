<div class="p-6 max-w-2xl bg-gray-900 rounded-lg shadow-xl w-full">
  <h2 class="text-3xl font-bold text-white mb-6">⚙️ Settings</h2>
  <div class="bg-gray-800 p-5 rounded-xl shadow-md mb-6">
    <h3 class="text-lg font-semibold text-white mb-4 flex items-center gap-2">
      👤 Profile
    </h3>

    <form [formGroup]="profileForm" (ngSubmit)="onSubmit()">
      <div class="flex flex-col items-center mb-6">
        <div class="relative w-28 h-28 mb-4">
          <img
            [src]="
              profilePreview
                ? profilePreview
                : LoggedInUserId && loggedInUserDetails?.profilePicture
                ? 'http://localhost:1517/' + loggedInUserDetails?.profilePicture
                : profilAvtar
            "
            alt="Profile Picture"
            class="w-full h-full object-cover rounded-full border-4 border-gray-600 shadow-md"
          />
          <label
            class="absolute bottom-0 right-0 bg-blue-500 text-white p-2 rounded-full cursor-pointer hover:bg-blue-600 transition"
            title="Upload Profile Picture"
          >
            📁
            <input
              id="profilePicture"
              type="file"
              class="hidden"
              (change)="onImageChange($event)"
            />
          </label>
        </div>
        <p class="text-gray-400 text-sm">
          Allowed formats: JPG, PNG, less than 1MB
        </p>
      </div>
      <div class="relative mb-4">
        <span class="absolute left-3 top-1/2 -translate-y-1/2 text-gray-400"
          >👨‍💼</span
        >
        <input
          type="text"
          placeholder="Enter your name"
          formControlName="userName"
          placeholder="Enter your username"
          class="w-full p-3 pl-10 bg-gray-700 text-white border border-gray-600 rounded-md focus:ring-2 focus:ring-blue-500 outline-none"
        />
      </div>
      <button
        type="submit"
        class="w-full bg-blue-500 text-white py-2 rounded-lg shadow-md hover:bg-blue-600 transition cursor-pointer"
      >
        💾 Update profile
      </button>
    </form>
  </div>
  <div class="bg-gray-800 p-5 rounded-xl shadow-md mb-6">
    <form [formGroup]="passwordFormGroup" (ngSubmit)="updatePassword($event)">
      <h3 class="text-lg font-semibold text-white mb-4 flex items-center gap-2">
        🔒 Change Password
      </h3>
      <div class="relative mb-3">
        <span class="absolute left-3 top-1/2 -translate-y-1/2 text-gray-400">
          🔑
        </span>
        <input
          type="password"
          formControlName="old_password"
          placeholder="Old Password"
          class="w-full p-3 pl-10 bg-gray-700 text-white border border-gray-600 rounded-md focus:ring-2 focus:ring-green-500 outline-none"
        />
      </div>
      <div class="relative mb-3">
        <span class="absolute left-3 top-1/2 -translate-y-1/2 text-gray-400">
          🔏
        </span>
        <input
          type="password"
          formControlName="new_password"
          placeholder="New Password"
          class="w-full p-3 pl-10 bg-gray-700 text-white border border-gray-600 rounded-md focus:ring-2 focus:ring-green-500 outline-none"
        />
      </div>
      <button
        class="w-full bg-green-500 text-white py-2 rounded-lg shadow-md hover:bg-green-600 transition"
      >
        🔄 Update Password
      </button>
    </form>
  </div>
  <button
    class="w-full bg-red-500 text-white py-2 rounded-lg shadow-md hover:bg-red-600 transition flex items-center justify-center gap-2"
  >
    🚪 Logout
  </button>
</div>
